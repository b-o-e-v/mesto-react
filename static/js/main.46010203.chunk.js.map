{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Profile.js","components/Card.js","components/Gallery.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/EditAvatarPopup.js","components/ImagePopup.js","utils/api.js","components/App.js","index.js"],"names":["Header","className","CurrentUserContext","createContext","Profile","userAvatar","userName","userDescription","onEditAvatar","onEditProfile","onAddPlace","src","alt","onClick","type","Card","card","onOpenImage","onCardClick","onCardDeletePopupOpen","onCardLike","currentUser","onCardDelete","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","name","link","length","Gallery","cards","map","Main","avatar","about","Footer","PopupWithForm","title","buttonText","isOpen","onClose","children","onSubmit","action","method","noValidate","defaultValue","EditProfilePopup","onUpdateProfile","isSubmitForm","useState","setName","setAbout","useEffect","e","preventDefault","htmlFor","placeholder","onChange","target","value","required","minLength","maxLength","id","AddPlacePopup","titleRef","useRef","linkRef","current","ref","EditAvatarPopup","onUpdateAvatar","avatarRef","ImagePopup","isClose","api","url","headers","this","_url","_headers","res","ok","json","Promise","reject","status","all","getUserInfo","getInitialCards","data","fetch","body","JSON","stringify","then","_getStatus","cardId","like","authorization","App","isImagePopupOpen","setIsImagePopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","setCurrentUser","selectedCard","setSelectedCard","setCards","setIsSubmitForm","closeAllPopups","handleDeleteCard","deleteCard","newCards","filter","c","catch","error","console","log","getServerData","userData","initialCards","Provider","likeCard","newCard","setUserInfo","addCard","updateAvatar","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.46010203.chunk.js","sourcesContent":["export default function Header() {\n  return (\n    <header className='header'>\n      <div className='header__logo' />\n    </header>\n  )\n}\n","import { createContext } from 'react'\n\nexport const CurrentUserContext = createContext()\n","export default function Profile({\n  userAvatar,\n  userName,\n  userDescription,\n  onEditAvatar,\n  onEditProfile,\n  onAddPlace,\n}) {\n  return (\n    <section className='profile'>\n      <div className='profile__info'>\n        <div className='profile__container'>\n          <img src={userAvatar} alt='аватар' className='profile__avatar' />\n          <button onClick={onEditAvatar} className='profile__avatar-btn' />\n        </div>\n        <div className='profile__about'>\n          <h1 className='profile__name'>{userName}</h1>\n          <p className='profile__description'>{userDescription}</p>\n        </div>\n        <button\n          onClick={onEditProfile}\n          className='profile__edit'\n          type='button'\n        />\n      </div>\n      <button onClick={onAddPlace} className='profile__add' type='button' />\n    </section>\n  )\n}\n","import { useContext } from 'react'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nexport default function Card({\n  card,\n  onOpenImage,\n  onCardClick,\n  onCardDeletePopupOpen,\n  onCardLike,\n  onCardDelete,\n}) {\n  const currentUser = useContext(CurrentUserContext)\n\n  const isOwn = card.owner._id === currentUser._id\n  const isLiked = card.likes.some((i) => i._id === currentUser._id)\n\n  const cardDeleteButtonClassName = `card__delete ${isOwn && 'show-block'}`\n  const cardLikeButtonClassName = `card__like ${isLiked && 'card__like_active'}`\n\n  function handleClick() {\n    onOpenImage()\n    onCardClick(card)\n  }\n\n  function handleClickLike() {\n    onCardLike(card)\n  }\n\n  function handleClickDelete() {\n    onCardDeletePopupOpen(card)\n  }\n\n  return (\n    <li className='card'>\n      <button\n        onClick={handleClickDelete}\n        className={cardDeleteButtonClassName}\n        type='button'\n      />\n      <img\n        onClick={handleClick}\n        className='card__img'\n        alt={card.name}\n        src={card.link}\n      />\n      <div className='card__description'>\n        <h2 className='card__title'>{card.name}</h2>\n        <div className='card__container'>\n          <button\n            className={cardLikeButtonClassName}\n            type='button'\n            onClick={handleClickLike}\n          />\n          <span className='card__like-count'>{card.likes.length}</span>\n        </div>\n      </div>\n    </li>\n  )\n}\n","import Card from './Card'\n\nexport default function Gallery({\n  cards,\n  onOpenImage,\n  onCardClick,\n  onCardDeletePopupOpen,\n  onCardLike,\n  onCardDelete,\n}) {\n  return (\n    <section className='gallery'>\n      <ul className='cards'>\n        {cards.map((card) => (\n          <Card\n            key={card._id}\n            card={card}\n            onOpenImage={onOpenImage}\n            onCardClick={onCardClick}\n            onCardDeletePopupOpen={onCardDeletePopupOpen}\n            onCardLike={onCardLike}\n            onCardDelete={onCardDelete}\n          />\n        ))}\n      </ul>\n    </section>\n  )\n}\n","import { useContext } from 'react'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nimport Profile from './Profile'\nimport Gallery from './Gallery'\n\nexport default function Main({\n  onOpenImage,\n  onEditProfile,\n  onAddPlace,\n  onEditAvatar,\n  onCardClick,\n  onCardDeletePopupOpen,\n  onCardLike,\n  onCardDelete,\n  cards,\n}) {\n  const currentUser = useContext(CurrentUserContext)\n\n  return (\n    <main className='main'>\n      <Profile\n        userAvatar={currentUser.avatar}\n        userName={currentUser.name}\n        userDescription={currentUser.about}\n        onEditAvatar={onEditAvatar}\n        onEditProfile={onEditProfile}\n        onAddPlace={onAddPlace}\n      />\n      <Gallery\n        cards={cards}\n        onOpenImage={onOpenImage}\n        onCardClick={onCardClick}\n        onCardDeletePopupOpen={onCardDeletePopupOpen}\n        onCardLike={onCardLike}\n        onCardDelete={onCardDelete}\n      />\n    </main>\n  )\n}\n","export default function Footer() {\n  return (\n    <footer className='footer'>\n      <p className='footer__copyright'>© 2020 Mesto Russia</p>\n    </footer>\n  )\n}\n","export default function PopupWithForm({\n  title,\n  name,\n  buttonText,\n  isOpen,\n  onClose,\n  children,\n  onSubmit,\n}) {\n  return (\n    <section className={`popup popup_type_${name} ${isOpen && 'popup_opened'}`}>\n      <div className='popup__container'>\n        <h2 className='popup__title'>{title}</h2>\n        <form\n          action='#'\n          method='POST'\n          className='popup__form'\n          onSubmit={onSubmit}\n          name={name}\n          noValidate\n        >\n          {children}\n          <button\n            type='submit'\n            defaultValue='Сохранить'\n            className='popup__save'\n            name='btn-add-profile'\n          >\n            {buttonText}\n          </button>\n        </form>\n        <button type='button' className='popup__close' onClick={onClose} />\n      </div>\n    </section>\n  )\n}\n","import { useState, useEffect, useContext } from 'react'\n\nimport PopupWithForm from './PopupWithForm'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nexport default function EditProfilePopup({\n  onUpdateProfile,\n  isOpen,\n  onClose,\n  isSubmitForm,\n}) {\n  const currentUser = useContext(CurrentUserContext)\n  const [name, setName] = useState('')\n  const [about, setAbout] = useState('')\n\n  useEffect(() => {\n    setName(currentUser.name)\n    setAbout(currentUser.about)\n  }, [currentUser])\n\n  function handleUpdateName(e) {\n    setName(e.target.value)\n  }\n\n  function handleUpdateAbout(e) {\n    setAbout(e.target.value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    onUpdateProfile({\n      name: name,\n      about: about,\n    })\n  }\n\n  return (\n    <PopupWithForm\n      title='Редактировать профиль'\n      name='edit'\n      buttonText={isSubmitForm ? 'Сохранение...' : 'Сохранить'}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <label htmlFor='name-input' className='popup__label'>\n        <input\n          type='text'\n          placeholder='Имя'\n          className='popup__input popup__input_string_name'\n          onChange={handleUpdateName}\n          value={name ? name : ''}\n          name='name'\n          required\n          minLength='2'\n          maxLength='40'\n          id='name-input'\n        />\n        <span className='popup__input-error name-input-error' />\n      </label>\n      <label htmlFor='job-input' className='popup__label'>\n        <input\n          type='text'\n          placeholder='О себе'\n          className='popup__input popup__input_string_job'\n          onChange={handleUpdateAbout}\n          value={about ? about : ''}\n          name='about'\n          required\n          minLength='2'\n          maxLength='200'\n          id='job-input'\n        />\n        <span className='popup__input-error job-input-error' />\n      </label>\n    </PopupWithForm>\n  )\n}\n","import { useEffect, useRef } from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nexport default function AddPlacePopup({\n  isOpen,\n  onClose,\n  onAddPlace,\n  isSubmitForm,\n}) {\n  const titleRef = useRef('')\n  const linkRef = useRef('')\n\n  useEffect(() => {\n    titleRef.current.value = ''\n    linkRef.current.value = ''\n  }, [isOpen])\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    onAddPlace({\n      name: titleRef.current.value,\n      link: linkRef.current.value,\n    })\n  }\n\n  return (\n    <PopupWithForm\n      title='Новое место'\n      name='add'\n      buttonText={isSubmitForm ? 'Сохранение...' : 'Cоздать'}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <label htmlFor='card-name-input' className='popup__label'>\n        <input\n          ref={titleRef}\n          type='text'\n          placeholder='Название'\n          className='popup__input popup__input_string_card-name'\n          name='name'\n          required\n          minLength='2'\n          maxLength='30'\n          id='card-name-input'\n        />\n        <span className='popup__input-error card-name-input-error' />\n      </label>\n      <label htmlFor='card-link-input' className='popup__label'>\n        <input\n          ref={linkRef}\n          type='url'\n          placeholder='Ссылка на картинку'\n          className='popup__input popup__input_string_card-link'\n          name='link'\n          required\n          id='card-link-input'\n        />\n        <span className='popup__input-error card-link-input-error' />\n      </label>\n    </PopupWithForm>\n  )\n}\n","import { useEffect, useRef } from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nexport default function EditAvatarPopup({\n  isOpen,\n  onClose,\n  onUpdateAvatar,\n  isSubmitForm,\n}) {\n  const avatarRef = useRef('')\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    })\n  }\n\n  useEffect(() => {\n    avatarRef.current.value = ''\n  }, [isOpen])\n\n  return (\n    <PopupWithForm\n      title='Обновить аватар'\n      name='update'\n      buttonText={isSubmitForm ? 'Сохранение...' : 'Сохранить'}\n      onSubmit={handleSubmit}\n      isOpen={isOpen}\n      onClose={onClose}\n    >\n      <label htmlFor='card-link-input-avatar' className='popup__label'>\n        <input\n          ref={avatarRef}\n          type='url'\n          placeholder='Ссылка на картинку'\n          className='popup__input popup__input_string_card-link'\n          name='avatar'\n          required\n          id='card-link-input-avatar'\n        />\n        <span className='popup__input-error card-link-input-avatar-error' />\n      </label>\n    </PopupWithForm>\n  )\n}\n","export default function ImagePopup({ card, isOpen, isClose }) {\n  return (\n    <section\n      className={`popup popup_type_open-photo ${isOpen && 'popup_opened'}`}\n    >\n      <div className='popup__container popup__container_type_open-photo'>\n        <img className='popup__img' src={`${card.link}`} alt={card.name} />\n        <h2 className='popup__name'>{card.name}</h2>\n        <button onClick={isClose} type='button' className='popup__close' />\n      </div>\n    </section>\n  )\n}\n","class Api {\n  constructor({ url, headers }) {\n    this._url = url\n    this._headers = headers\n  }\n\n  // Обработка ответа сервера\n  _getStatus(res) {\n    if (res.ok) {\n      return res.json()\n    } else {\n      return Promise.reject(`Error! : ${res.status}`)\n    }\n  }\n\n  getServerData() {\n    return Promise.all([this.getUserInfo(), this.getInitialCards()])\n  }\n\n  // Обновить аватар\n  updateAvatar(data) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.avatar,\n      }),\n    }).then(this._getStatus)\n  }\n\n  // Запросить информацию о пользователе\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      headers: this._headers,\n    }).then(this._getStatus)\n  }\n\n  // Обновить информацию о пользователе\n  setUserInfo(data) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about,\n      }),\n    }).then(this._getStatus)\n  }\n\n  // Запросить карточки\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      method: 'GET',\n      headers: this._headers,\n    }).then(this._getStatus)\n  }\n\n  // Загрузить карточку на сервер\n  addCard(card) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: card.name,\n        link: card.link,\n      }),\n    }).then(this._getStatus)\n  }\n\n  // Удалить карточку\n  deleteCard(cardId) {\n    return fetch(`${this._url}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    }).then(this._getStatus)\n  }\n\n  // Лайк карточки\n  likeCard(id, like) {\n    return fetch(`${this._url}/cards/likes/${id}`, {\n      method: like ? 'PUT' : 'DELETE',\n      headers: this._headers,\n    }).then(this._getStatus)\n  }\n}\n\nexport const api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-23',\n  headers: {\n    authorization: '59fccf9e-6799-435b-80d6-745d3115e9a3',\n    'Content-Type': 'application/json',\n  },\n})\n","import { useState, useEffect } from 'react'\n\nimport Header from './Header'\nimport Main from './Main'\nimport Footer from './Footer'\n\nimport PopupWithForm from './PopupWithForm'\nimport EditProfilePopup from './EditProfilePopup'\nimport AddPlacePopup from './AddPlacePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport ImagePopup from './ImagePopup'\n\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nimport { api } from '../utils/api'\n\nexport default function App() {\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false)\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false)\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false)\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false)\n  const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = useState(false)\n\n  const [currentUser, setCurrentUser] = useState({})\n  const [selectedCard, setSelectedCard] = useState({ name: '', link: '' })\n  const [cards, setCards] = useState([])\n\n  const [isSubmitForm, setIsSubmitForm] = useState(false)\n\n  useEffect(() => {\n    api\n      .getServerData()\n      .then(([userData, initialCards]) => {\n        setCurrentUser(userData)\n        setCards(initialCards)\n      })\n      .catch((error) => console.log(error))\n  }, [])\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true)\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true)\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true)\n  }\n\n  function handleImageCardClick() {\n    setIsImagePopupOpen(true)\n  }\n\n  function handleDeleteCardClick(card) {\n    setIsDeleteCardPopupOpen(true)\n    setSelectedCard(card)\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false)\n    setIsAddPlacePopupOpen(false)\n    setIsEditAvatarPopupOpen(false)\n    setIsDeleteCardPopupOpen(false)\n    setIsImagePopupOpen(false)\n    setSelectedCard({ name: '', link: '' })\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card)\n  }\n\n  function handleLikeCard(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id)\n\n    api\n      .likeCard(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c))\n        setCards(newCards)\n      })\n      .catch((error) => console.log(error))\n  }\n\n  function handleDeleteCard(card) {\n    setIsSubmitForm(true)\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== card._id)\n        setCards(newCards)\n        closeAllPopups()\n        setIsSubmitForm(false)\n      })\n      .catch((error) => {\n        console.log(error)\n        setIsSubmitForm(false)\n      })\n  }\n\n  function handleUpdateUser(data) {\n    setIsSubmitForm(true)\n    api\n      .setUserInfo(data)\n      .then((res) => {\n        setCurrentUser(res)\n        closeAllPopups()\n        setIsSubmitForm(false)\n      })\n      .catch((error) => {\n        console.log(error)\n        setIsSubmitForm(false)\n      })\n  }\n\n  function handleUpdateAvatar(data) {\n    setIsSubmitForm(true)\n    api\n      .updateAvatar(data)\n      .then((res) => {\n        setCurrentUser(res)\n        closeAllPopups()\n        setIsSubmitForm(false)\n      })\n      .catch((error) => {\n        console.log(error)\n        setIsSubmitForm(false)\n      })\n  }\n\n  function handleAddPlaceSubmit(card) {\n    setIsSubmitForm(true)\n    api\n      .addCard(card)\n      .then((res) => {\n        setCards([res, ...cards])\n        closeAllPopups()\n        setIsSubmitForm(false)\n      })\n      .catch((error) => {\n        console.log(error)\n        setIsSubmitForm(false)\n      })\n  }\n\n  function handleClickDelete(e) {\n    e.preventDefault()\n    handleDeleteCard(selectedCard)\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className='page'>\n        <Header />\n        <Main\n          onOpenImage={handleImageCardClick}\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          onCardDeletePopupOpen={handleDeleteCardClick}\n          onCardLike={handleLikeCard}\n          onCardDelete={handleDeleteCard}\n          cards={cards}\n        />\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateProfile={handleUpdateUser}\n          isSubmitForm={isSubmitForm}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n          isSubmitForm={isSubmitForm}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          isSubmitForm={isSubmitForm}\n        />\n        <PopupWithForm\n          title='Вы уверены?'\n          name='delete'\n          buttonText={isSubmitForm ? 'Удаление...' : 'Да'}\n          isOpen={isDeleteCardPopupOpen}\n          onClose={closeAllPopups}\n          onSubmit={handleClickDelete}\n        />\n        <ImagePopup\n          card={selectedCard}\n          isOpen={isImagePopupOpen}\n          isClose={closeAllPopups}\n        />\n        <Footer />\n      </div>\n    </CurrentUserContext.Provider>\n  )\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App'\n\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}